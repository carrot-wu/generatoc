var generatoc=function(){"use strict";var e,t="",n="",r="#toc",o=0,l=7,i=window,c=[],a=!1;function u(e){return e[e.length-1]}function d(e){return+e.substr(1)}function s(e){var t={top:0,left:0};if(!e.getClientRects().length)return t;if("none"===window.getComputedStyle(e).display)return t;t=e.getBoundingClientRect();var n=e.ownerDocument.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}function f(){var t,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;document.body.offsetHeight,document.body.scrollHeight;window.requestAnimationFrame((function(){var r,l=null,i=0;e.forEach((function(e,t){var r=Math.abs(s(e.nextElementSibling?e.nextElementSibling:e).top-n-o);if(!(null==l||r<l))return!1;l=r,i=t})),r=e[i].innerText;var c=document.querySelector('a[data-toc-index="'+i+'"]');c&&(t=c.closest("ul"))&&(m(t),t.querySelector("li").classList.add("active"),a&&window.location.hash!=="#"+r&&window.location.replace("#"+r))}))}function h(t){t.stopPropagation();var n=t.target.getAttribute("data-toc-index"),r=0;!function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=2),!(e===t||n<1)){var r=e;i.scrollTo(0,t),function e(){r+=(t-r)/n,Math.abs(t-r)<1?i.scrollTo(0,t):(i.scrollTo(0,r),requestAnimationFrame(e))}()}}(r=i instanceof Window?document.documentElement.scrollTop||document.body.scrollTop:i.scrollTop,r+(s(e[+n]).top-o),l)}function v(e){e.stopPropagation(),m(e.target)}function m(e){if(e){var t=e.closest("ul");t&&(!function(e){Array.prototype.forEach.call(e.children,(function(e){e.querySelector("li").classList.remove("active");var t=e.querySelectorAll("ul");t&&Array.prototype.forEach.call(t,(function(e){e&&(e.querySelector("li").classList.remove("active"),e.style.transform="scaleY(0)",e.style.maxHeight="0px")}))}))}(document.querySelector(r)),function e(t){if(t&&t.children&&0!==t.children.length)return"ul"===t.children[0].tagName.toLowerCase()?(Array.prototype.forEach.call(t.children,(function(e){"ul"===e.tagName.toLowerCase()&&(e.style.transform="scaleY(1)",e.style.maxHeight="200px")})),e(t.children[0])):void 0}(t.children[1]),function e(t){t.id!==r.substr(1)&&(Array.prototype.forEach.call(t.children,(function(e){"ul"===e.tagName.toLowerCase()&&(e.style.transform="scaleY(1)",e.style.maxHeight="200px")})),e(t.parentElement))}(e))}}function p(e){var t=document.createElement("ul");if(e.ele){var n=function(e,t){var n=document.createElement("li");n.setAttribute("style","cursor: pointer;");var r=document.createElement("a");return r.setAttribute("data-toc-index",t.toString()),r.innerHTML=e||"",n.appendChild(r),n}(e.ele.textContent,e.index);n.addEventListener("click",h),function(e){e.addEventListener("click",v)}(t),t.append(n)}return e.children.length>0&&e.children.forEach((function(e){t.append(p(e))})),t}function y(e,t,n,r){var o=d(e.localName),l=t?d(t.localName):0,i={index:r,level:o,ele:null,children:[]};if(o===l)i.ele=e,i.level=o,function(e){if(0===e.length)return e;for(var t=u(e),n=e;0!==t.children.length;)n=t.children,t=u(t.children);return n}(n).push(i);else if(o>l){var c=o-l;(function(e){for(var t=e;0!==t.length;)t=u(t).children;return t})(n).push(function e(t,n,r,o){var l={index:o,level:null,ele:null,children:[]};return t<=0?(l.level=r,l.ele=n):(l.level=r-t,l.children=[e(--t,n,r,o)]),l}(c-1,e,o,r))}else i.ele=e,function(e,t,n){for(var r=u(t),o={index:n,level:null,ele:null,children:t};r.level!==e&&(o=r,void 0!==(r=u(r.children))););return o}(o,n,r).children.push(i)}function g(){var t=document.querySelector(r);null!==t?c[0]&&(c[0].index=-1,Array.prototype.forEach.call(c[0].children,(function(e){t.appendChild(p(e))})),e.length>0&&i.addEventListener("scroll",function(e,t){void 0===t&&(t=500);var n=null,r=!0;return function(){for(var o=this,l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];if(r)return e.apply(this,l),r=!1;n||(n=setTimeout((function(){clearTimeout(n),n=null,e.apply(o,l)}),t))}}(f),!1)):console.log("Toc element not found!")}var E={init:function(u){var d=u.content,s=u.heading,f=void 0===s?["h2","h3","h4","h5"]:s,h=u.selector,v=void 0===h?"#toc":h,m=u.scrollHistory,p=void 0!==m&&m,E=u.scrollOffset,w=void 0===E?0:E,x=u.duration,S=void 0===x?7:x,q=u.scrollElement;if(r=v,n=f.join(","),t=d,a=p,o=w,l=S,q){var L=document.querySelector(q);i=L||i}var T=document.querySelector(t);T&&((e=T.querySelectorAll(n)).forEach((function(t,n){y(t,0===n?null:e[n-1],c,n)})),g())},destroy:function(){var e=document.querySelector(r);e&&(e.querySelectorAll("ul").forEach((function(e){e.removeEventListener("click",v)})),e.querySelectorAll("li").forEach((function(e){e.removeEventListener("click",h)})),c=[],e.innerHTML="",window.removeEventListener("scroll",f))},refresh:function(){E.destroy(),E.init({content:t,heading:n.split(","),selector:r,scrollOffset:o,duration:l})}};return E}();
