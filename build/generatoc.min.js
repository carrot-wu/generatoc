var generatoc=function(){"use strict";var e="#toc",n=[],r={};function l(e){return e[e.length-1]}function t(e){return+e.substr(1)}function c(e){Array.prototype.forEach.call(e.children,(function(e){var n=e.querySelectorAll("ul");n&&Array.prototype.forEach.call(n,(function(e){e&&(e.style.display="none")}))}))}function o(n){n.addEventListener("click",(function(r){r.stopPropagation(),c(document.querySelector(e));var l=function e(n){if(n&&n.children[0])return"ul"===n.children[0].tagName.toLowerCase()?(Array.prototype.forEach.call(n.children,(function(e){e.style.display="block"})),e(n.children[0])):n.children}(n.children[1]);l&&Array.prototype.forEach.call(l,(function(e){e.style.display="block"})),function n(r){r.id!==e.substr(1)&&(Array.prototype.forEach.call(r.children,(function(e){e.style.display="block"})),n(r.parentElement))}(n)}))}function i(e){var n,r,l=document.createElement("ul");if(e.ele){var t=function(e){var n=document.createElement("li");n.setAttribute("style","cursor: pointer;");var r=document.createElement("a");return r.innerHTML=e||"",n.appendChild(r),n}(e.ele.textContent);n=t,r=e.ele,n.addEventListener("click",(function(e){r.scrollIntoView({behavior:"smooth"})})),o(l),l.append(t)}return e.children.length>0&&e.children.forEach((function(e){l.append(i(e))})),l}function u(e,n,r){var c=t(e.localName),o=n?t(n.localName):0,i={level:c,ele:null,children:[]};if(c===o)i.ele=e,i.level=c,function(e){if(0===e.length)return e;for(var n=l(e),r=e;0!==n.children.length;)r=n.children,n=l(n.children);return r}(r).push(i);else if(c>o){var u=c-o;(function(e){for(var n=e;0!==n.length;)n=l(n).children;return n})(r).push(function e(n,r,l){var t={level:null,ele:null,children:[]};return n<=0?(t.level=l,t.ele=r):(t.level=l-n,t.children=[e(--n,r,l)]),t}(u-1,e,c))}else i.ele=e,function(e,n){for(var r=l(n),t={level:null,ele:null,children:n};(!r.ele||r.level!==e)&&(t=r,void 0!==(r=l(r.children))););return t}(c,r).children.push(i)}return r.init=function(r){var l=r.content,t=r.heading,o=void 0===t?["h2","h3","h4","h5"]:t,a=r.selector;e=void 0===a?"#toc":a;var d,h=o.join(","),f=document.querySelector(l).querySelectorAll(h);f.forEach((function(e,r){u(e,0===r?null:f[r-1],n)})),null===(d=document.querySelector(e))&&console.error("Toc element not found!"),Array.prototype.forEach.call(n[0].children,(function(e){d.appendChild(i(e))})),c(d)},r}();
