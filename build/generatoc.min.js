var generatoc=function(){"use strict";var e="#toc",n=[];function r(e){return e[e.length-1]}function l(e){return+e.substr(1)}function t(e){Array.prototype.forEach.call(e.children,(function(e){var n=e.querySelectorAll("ul");n&&Array.prototype.forEach.call(n,(function(e){e&&(e.style.display="none")}))}))}function c(n){n.addEventListener("click",(function(r){r.stopPropagation(),t(document.querySelector(e));var l=function e(n){if(n&&n.children[0])return"ul"===n.children[0].tagName.toLowerCase()?(Array.prototype.forEach.call(n.children,(function(e){e.style.display="block"})),e(n.children[0])):n.children}(n.children[1]);l&&Array.prototype.forEach.call(l,(function(e){e.style.display="block"})),function n(r){r.id!==e.substr(1)&&(Array.prototype.forEach.call(r.children,(function(e){e.style.display="block"})),n(r.parentElement))}(n)}))}function o(e){var n,r,l=document.createElement("ul");if(e.ele){var t=function(e){var n=document.createElement("li");n.setAttribute("style","cursor: pointer;");var r=document.createElement("a");return r.innerHTML=e||"",n.appendChild(r),n}(e.ele.textContent);n=t,r=e.ele,n.addEventListener("click",(function(e){r.scrollIntoView({behavior:"smooth"})})),c(l),l.append(t)}return e.children.length>0&&e.children.forEach((function(e){l.append(o(e))})),l}function i(e,n,t){var c=l(e.localName),o=n?l(n.localName):0,i={level:c,ele:null,children:[]};if(c===o)i.ele=e,i.level=c,function(e){if(0===e.length)return e;for(var n=r(e),l=e;0!==n.children.length;)l=n.children,n=r(n.children);return l}(t).push(i);else if(c>o){var u=c-o;(function(e){for(var n=e;0!==n.length;)n=r(n).children;return n})(t).push(function e(n,r,l){var t={level:null,ele:null,children:[]};return n<=0?(t.level=l,t.ele=r):(t.level=l-n,t.children=[e(--n,r,l)]),t}(u-1,e,c))}else i.ele=e,function(e,n){for(var l=r(n),t={level:null,ele:null,children:n};(!l.ele||l.level!==e)&&(t=l,void 0!==(l=r(l.children))););return t}(c,t).children.push(i)}return{init:function(r){var l=r.content,c=r.heading,u=void 0===c?["h2","h3","h4","h5"]:c,a=r.selector;e=void 0===a?"#toc":a;var d,h=u.join(","),f=document.querySelector(l).querySelectorAll(h);f.forEach((function(e,r){i(e,0===r?null:f[r-1],n)})),null===(d=document.querySelector(e))&&console.error("Toc element not found!"),Array.prototype.forEach.call(n[0].children,(function(e){d.appendChild(o(e))})),t(d)}}}();
